{"./":{"url":"./","title":"Introduction","keywords":"","body":"READ ME © 2017 Trashman all right reserved，powered by Gitbook修訂時間： 2017-09-04 03:41:58 "},"md/6-AI/1-Basic/Readme.html":{"url":"md/6-AI/1-Basic/Readme.html","title":"Basic","keywords":"","body":"Basic tagsstart Machine Learning tagsstop Introduction ML 競賽網站:Kaggle Python 數據處理:numpy,scipy Numpy數組函數 找維度:ndim() 找矩陣:shape() 將資料轉換成矩陣: reshape((3,2)) call by value: copy() import numpy as np a = np.array([0,1,2,3,4,5]) print \"a =\",a.ndim print \"a.shape =\",a.shape print \"--------------------------------\" b = a.reshape((3,2)) print \"b =\",b print \"b.ndim =\",b.ndim print \"b.shape =\",b.shape print \"--------------------------------\" b[1][0] = 77 print \"b[1][0] = 77\" print \"b =\",b print \"a =\",a print \"--------------------------------\" c = a.reshape((3,2)).copy() print \"c =\",c c[0][0] = -99 print \"c[0][0] = -99\" print \"a =\",a print \"c =\",c 數組運算:數組*2,數組**2 找某些index的資料:numpy.array([2,3,4]) 對數組做邏輯判斷:數組>4 用強制數組的值在某個區間:clip(0,4) 判斷是否NaN:numpy.isnan(數組) 數組中不是NaN的結果:數組[~numpy.isnan(數組)] 平均值:numpy.mean(數組) 數組內資料的型態:數組.dtype import numpy as np a = np.array([0,1,2,3,4,5]) b = np.array([1,\"stringy\"]) c = np.array([1,\"stringy\",set([1,2,3])]) print \"a*2 =\",a*2 print \"[1,2,3,4,5]*2 =\",[1,2,3,4,5]*2 print \"a**2 =\",a**2 #print [1,2,3,4,5]**2 will fail print \"---------------------------------\" a=a**2 print \"a=a**2\" print \"a[np.array([2,3,4])] =\",a[np.array([2,3,4])] print \"a>4 =\",a>4 print \"a[a>4] =\",a[a>4] print \"a.clip(0,4) =\",a.clip(0,4) #a[a>4] = 4 print \"---------------------------------\" c = np.array([1,2,np.NaN,3,4]) print \"c =\",c print \"np.isnan(c) =\",np.isnan(c) print \"c[~np.isnan(c)] =\",c[~np.isnan(c)] print \"np.mean(c[~np.isnan(c)]) =\",np.mean(c[~np.isnan(c)]) print \"---------------------------------\" print \"a.dtype =\",a.dtype print \"b.dtype =\",b.dtype print \"c.dtype =\",c.dtype 循環處理數組的時候,多用library以c實做的function,可以提昇速度 import numpy as np import timeit normal_py_sec = timeit.timeit('sum(x*x for x in xrange(1000))',number=10000) navie_np_sec = timeit.timeit('sum(na*na)',setup=\"import numpy as np; na=np.arange(1000)\",number=10000) good_np_sec = timeit.timeit('na.dot(na)',setup=\"import numpy as np;na=np.arange(1000)\",number=10000) print (\"Normal Python: %f sec\" %normal_py_sec) print (\"Naive Numpy: %f sec\" %navie_np_sec) print (\"Good Numpy: %f sec\" %good_np_sec) Scipy數組運換函數 numpy內全部的命名空間,都可以通過scipy來使用 import scipy import numpy print scipy.version.full_version print scipy.dot is numpy.dot 基本資料模型 比較兩個模型的時候,才會判斷絕對誤差的大小 太過貼近真實的資料,會把雜訊資料也貼合進去,稱為過度擬和(overfitting) # !/usr/bin/env python # -*- coding: utf-8 -*- import scipy as sp import numpy as np #標準平方差公式 def error(f,x,y): return sp.sum( (f(x)-y) **2 ) data = sp.genfromtxt(\"web_traffic.tsv\",delimiter=\"\\t\") #前十筆資料 print (data[:10]) #資料矩陣 print (data.shape) #第一維度的資料 x = data[:,0] #第二維度的資料 y = data[:,1] #NaN資料的數目 print sp.sum(sp.isnan(y)) #取出不是NaN的資料 x = x[~sp.isnan(y)] y = y[~sp.isnan(y)] #根據資料繪製基本圖形 import matplotlib.pyplot as plt plt.scatter(x,y) plt.title(\"Web traffic over the last month\") plt.xlabel(\"Time\") plt.ylabel(\"Hits/hour\") plt.xticks([w*7*24 for w in range(10)],['week %i'%w for w in range(10)]) plt.autoscale(tight=True) #取得誤差最小的一階方程式參數 fp1,residuals,rank,sv,rcond = sp.polyfit(x, y, 1,full=True) print (\"Model parameters: %s\" % fp1) #根據方程式參數,來建立方程式 #ex: f1(x) = 2.59619213 * x + 989.02487106 f1 = sp.poly1d(fp1) #誤差總和 print (error(f1,x,y)) #取得誤差最小的二階方程式參數 f2p = sp.polyfit(x, y, 2) #根據方程式參數,來建立方程式 f2 = sp.poly1d(f2p) #誤差總和 print (error(f2,x,y)) #取得誤差最小的100階方程式參數 f100p = sp.polyfit(x, y, 100) #根據方程式參數,來建立方程式 f100 = sp.poly1d(f100p) #誤差總和 print (error(f100,x,y)) fx = sp.linspace(0,x[-1],1000) plt.plot(fx,f1(fx),linewidth=4) #plt.plot(fx,f2(fx),linewidth=4,linestyle='dotted') plt.plot(fx,f2(fx),linewidth=4) plt.plot(fx,f100(fx),linewidth=4) plt.legend([\"d=%i\" % f1.order,\"d=%i\" % f2.order,\"d=%i\" % f100.order],loc=\"upper left\") plt.grid() plt.show() Image 1 - Result © 2017 Trashman all right reserved，powered by Gitbook修訂時間： 2017-09-04 02:07:58 "},"md/6-AI/2-TensorFlow/Readme.html":{"url":"md/6-AI/2-TensorFlow/Readme.html","title":"Tensor Flow","keywords":"","body":"Basic tagsstart Tensorflow Machine Learning Framework tagsstop Introduction © 2017 Trashman all right reserved，powered by Gitbook修訂時間： 2017-09-04 02:07:58 "},"md/6-AI/3-AIML/1-AIMLv1.html":{"url":"md/6-AI/3-AIML/1-AIMLv1.html","title":"AIM Lv 1","keywords":"","body":"AIML v1.0 tagsstart AIML AI tagsstop 型態 用於AIML元素和屬性的名稱的約定是名稱都是小寫 Topic Supported in versions: AIML 1.0 Must be within: Can be within: UNKNOWN Can contain: UNKNOWN Must Contain: optional top-level element that contains category elements A topic element has a required name attribute phrase phrase phrase Category Supported in versions: AIML 1.0 Must be within: Can be within: Can contain: Must Contain: second-level contains exactly one pattern and exactly one template PATTERN THAT Template Pattern Supported in versions: AIML 1.0 Must be within: Can be within: undefined Can contain: * _ Must Contain: Normalized text \"Pattern-side AIML expressions (PSAE).\" it must be the first tag to appear after a in UPPER CASE. * = one or more words. _ = * *只能有一個 tag which is replaced at robot load time with the name of the robot. That 机器人的数据库中对应“是的”的回答必然非常多，比方有下面A和B两个categories 也就是机器人自己上句说过的话，即“你是程序员吗？”这样它就可以确定应该匹配 category A了 = 機器人倒數幾句講的話 表示取机器人倒数第2句的话 也等于 也等于 是的 你是程序员吗？ 你最擅长的编程语言是什么？ 是的 你是学生吗？ 你是哪个学校的 Template Supported in versions: AIML 1.0 Must be within: Can be within: undefined Can contain: TSAE (Template-side AIML Expression) Must Contain: could be empty A template is the \"response\" or \"output\" part of an AIML category. Star CLIENT: \"Hello there, my name is Tom\" HELLO * MY NAME IS * = there = tom = that的第n個* 你好 计算机 的 型 号 是 什 么 * * 的 型 号 是 什 么 这个型号是里面 很好的商品 很流行的商品 很华丽的商品 。 对话场景： 用户：你好 机器人：计算机 的 型 号 是 什 么 用户：p4 机器人：p4这个型号是计算机里面很好的商品 input 输出用户倒数第2次的输入，看如下对话： = 嘿 嘿 你刚才说：“”？ topicstar 元素用来得到先前倒数第n次谈论的主题 get ,即得到name的值 set & think Me bot name date id person2 = 把第一人称转成第2人称 person = 把第一人称转换成第3人称 gender = 元素，替换性别以及代名词，例如： She told him to take a hike. 将被替换成：He told her to take a hike，跟性别有关的单词都将被替换，中文怎么处理不是很清楚 srai 里面的话会被当作是用户输入，从新查找匹配模式，直到找到非定义的回复 例如： 我 是 ，那么机器人会把“我 是 *”当作是用户输入来从新查找匹配模式 = size version uppercase DO UPPERCASE This is an uppercase test. This category will give the following output: This is an UPPERCASE test. lowercase DO LOWERCASE This is a LOWERCASE test. This category will give the following outout: This is a lowercase test. formal 元素，用来格式化输出，例如：jon baer 那么回复将被格式化成首字母大写输出：Jon Baer，对中文无效 sentence 元素用来格式化句子，比如： this is some kind of sentence test. 可以格式化成：This is some kind of sentence test.即把句子首字母大写 condition 你好 我 头 发 的 颜 色 是 蓝 色 * 哇塞，你很 漂亮阿！ 英俊阿！ 我 头 发 的 颜 色 是 蓝 色 * 哇塞，你很 漂亮阿！ 英俊阿！ 我 头 发 的 颜 色 是 蓝 色 * 哇塞，你很 漂亮阿！ 英俊阿！ 我 头 发 的 颜 色 是 蓝 色 * 哇塞，你很 漂亮阿！ 好看！ random 很好的商品 很流行的商品 很华丽的商品 gossip X Save X as gossip. 元素用来把改元素里面的内容保存到gossip.log文件里。 learn basic_chat.aiml system 调用系统函数 date表示取系统当前日期 javascript if 判断元素 你的名字叫 . 你叫什么名字？ NONE kernel = aiml.Kernel() \"\"\" kernel.learn(\"std-startup.xml\") kernel.respond(\"load aiml b\") \"\"\" if os.path.isfile(\"bot_brain.brn\"): kernel.bootstrap(brainFile = \"bot_brain.brn\") else: kernel.bootstrap(learnFiles = \"std-startup.xml\", commands = \"load aiml b\") kernel.saveBrain(\"bot_brain.brn\") while True: message = raw_input(\"Enter your message to the bot: \") respond = kernel.respond(message) print respond sessionId = 12345 kernel.respond(raw_input(\">>>\"), sessionId) sessionData = kernel.getSessionData(sessionId) kernel.setPredicate(\"dog\", \"Brandy\", sessionId) clients_dogs_name = kernel.getPredicate(\"dog\", sessionId) kernel.setBotPredicate(\"hometown\", \"127.0.0.1\") bot_hometown = kernel.getBotPredicate(\"hometown\") abc attractive. handsome. test where is your origin where is your destination test 要換行 © 2017 Trashman all right reserved，powered by Gitbook修訂時間： 2017-09-04 02:07:58 "},"md/6-AI/3-AIML/2-AIMLv2.html":{"url":"md/6-AI/3-AIML/2-AIMLv2.html","title":"AIM Lv 2","keywords":"","body":"AIML v2.0 (Program AB) tagsstart AIML AI tagsstop Folder c:/ab/bots the AIML bots go in this directory c:/ab/lib Java libraries needed to run this code c:/ab/out Java class file directory c:/ab/run.bat batch file to run Program AB Bot c:/ab/bots/botname/aiml store your AIML files here c:/ab/bots/botname/aimlif Program AB stores AIMLIF files here c:/ab/bots/botname/config Bot configuration files c:/ab/bots/botname/sets AIML Sets c:/ab/bots/botname/maps AIML Maps Mode action=chat run the bot and have a chat action=ab run the experimental pattern suggestor action=csv2aiml convert AIMLIF files to AIML action=aiml2csv convert AIML files to AIMLIF bot=botname run the bot found in the botname directory trace=true print out useful tracing information chat mode q quit without saving wq write AIML and AIMLIF (.csv) files and quit ab Enter catgeory browser/pattern suggestor mde Pattern suggestor (Category Browser) mode q quit without saving files wq write AIML and AIMLIF files and quit \"Enter\" or skip skip this category d delete this pattern x create a category with of the pattern - saved in sraix.aiml p inappropriate content - creates a category with FILTER INAPPROPRIATE - saved in inappropriate.aiml f profanity - creates a category with FILTER PROFANITY - saved in profanity.aiml i insult - creates a category with FILTER INSULT - saved in insult.aiml template conatins category saved in srai reductions_update.aiml sraix sraix.aiml oob oob.aiml set name client_profile.aiml get name (except get name=”name”) client_profile.aiml anything else personality.aiml Optionally, you can write SOME PATTERN response A 跑aiml or aimlif 取決於誰比較新 Program AB was developed as a project in JetBrains IntelliJ IDEA Some Java libraries are needed to compile Program AB. These libraries are not included in this source code distribution. jgoodies-common.jar jgoodies-forms.jar json-20090211.jar sanmoku-0.0.5.jar sanmoku-feature-ex.0.0.1.jar httpcomponents-client-4.2.1: commons-codec-1.6.jar commons-logging-1.1.1.jar fluent-hc-4.2.1.jar httpclient-4.2.1.jar httpclient-cache-4.2.1.jar httpcore-4.2.1.jar httpmime-4.2.1.jar AIML Intermediate Format 翻譯AIML的每一個category 順序是: activation count, input pattern, that pattern, topic pattern, template, filename. 不包含, or , 對,很敏感,所以不要使用,改用#Comma Hi, nice to see you! -> Hi#Comma nice to see you! #Newline是換行 activation count目前沒有被program ab用到,但你可以優先讀取他來改進bot運行的速度 AIML Processor Extension Program AB 定義了一個Java Interface,名叫AIMLProcessorExtension,用來讓你自訂AIML tags用. 要實做這個Interface必須做三件事情： public Set extensionTagSet(); which returns a set of extension tag names. public String recursEval(Node node, ParseState ps):用來遞迴xml tree,並添增你的標籤會回傳的結果.因為你自定義的標籤可能本身包含原生的AIML 2.0 tags .你會用到AIMLProcessor.evalTagContent(node, parseState ignoreAttributes)取得tag or subtag的內容.最後你要return 一個String來代表這個tag的結果. 最後假設你實做的結果為PCAIMLProcessorExtension,那麼你需要AIMLProcessor.extension = new PCAIMLProcessorExtension(); public Set extensionTagNames = Utilities.stringSet(\"contactid\",\"multipleids\"); public Set extensionTagSet() { return extensionTagNames; } 使用步驟 Link to Ab.jar import org.alicebot.ab.*; Create a bot String botname=\"mybot\"; Bot bot = new Bot(botname); You can also specify a root path for the bot's files with String botname=\"mybot\"; String path=\"c:/example\"; Bot bot = new Bot(botname, path); Create a chat session Chat chatSession = new Chat(bot); Use the method multisentence Response to get the bot's replies to multiple-sentence (one or more sentence) inputs: String request = \"Hello. Are you alive? What is your name?\"; String response = chatSession.multisentenceRespond(request); System.out.println(response); Set 順序： Try underscore _ first. Try to find an exact word match. Try to find a match - this step differs from AIML 1.1 Try star * last. 優先：短>長 “give” > “give up\" 符合的set在template中用代表 Remote set:“ISA“+setName+“ “+setMember server 端寫: ISACOLOR RED true ISACOLOR * false client端寫 IS color A COLOR color.txt: external:www.pandorabots.com:8e3fc4b44e342400:4 The “external” keyword means this is an external set. The “www.pandorabots.com” specifies the host name. bot id The number 4 is the maximum length (in words) of any member of the set. This parameter saves processing and networking resources by omitting checks of phrases that are too long to be in the set anyway. map 用在template be2was been2be 找不到會回傳unknown Remote Map:mapName+“ “+domainElement server寫: ZIP2CITY 94618 Oakland, California ZIP2CITY * unknown client端寫 The city for 94618 is 94618 zip2city.txt: external:www.pandorabots.com:8e3fc4b44e342400 The external keyword means this is an external set. The “www.pandorabots.com” specifies the host name. Note that the maximum element length need not be specified for maps, as it was for sets. This is because the element can be activated on the side much more frequently than the element on the side. configure Normalization:normal.txt Predicate Defaults:predicates.txt Bot Properties:properties.txt Substitutions:person.txt... File AIML Tag normal.txt person.txt person2.txt gender.txt Copyright: Macro Expansion [url] the URL specified by the bot property url in the file properties.txt [date] the current date [YYYY] the current calendar year [version] the bot property version from properties.txt [botname] the botname property from properties.txt [botmaster] the botmaster property from properties.txt [organization] the organization property from properties.txt © 2017 Trashman all right reserved，powered by Gitbook修訂時間： 2017-09-04 02:07:58 "},"tags.html":{"url":"tags.html","title":"Tags","keywords":"","body":"Tags © 2017 Trashman all right reserved，powered by Gitbook修訂時間： 2017-09-04 03:41:58 Machine Learning Basic Tensor Flow Tensorflow Tensor Flow Framework Tensor Flow AIML AIM Lv 1 AIM Lv 2 AI AIM Lv 1 AIM Lv 2 "}}